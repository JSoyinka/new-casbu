import{u as b,a as u,r as l,c as g,j as e}from"./index-BFScbWCH.js";function f(){const t=b(),{profile:a}=u(),[r,c]=l.useState([]),[d,x]=l.useState(!0);l.useEffect(()=>{a?.is_creator&&n()},[a]);const n=async()=>{try{const{data:s,error:i}=await g.from("subscriptions").select(`
          *,
          subscriber:subscriber_id (
            id,
            full_name,
            email,
            profile_image_url
          )
        `).eq("creator_id",a?.id).eq("status","active");if(i)throw i;c(s||[])}catch(s){console.error("Error fetching subscribers:",s)}finally{x(!1)}},o=s=>{switch(s){case 3:return"bg-gradient-to-r from-purple-500 to-pink-500 text-white";case 2:return"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400";case 1:return"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}},m=s=>{switch(s){case 3:return"VIP";case 2:return"Pro";case 1:return"Basic";default:return"Basic"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-sm z-[100] border-b border-gray-200/50 dark:border-gray-700/50",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"ri-circuit-line text-white text-lg"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",style:{fontFamily:"Inter, system-ui, sans-serif",letterSpacing:"-0.02em"},children:"Direct Line"})]}),e.jsx("button",{className:"w-10 h-10 bg-gray-100/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl flex items-center justify-center hover:scale-105 transition-transform",children:e.jsx("i",{className:"ri-search-line text-gray-600 dark:text-gray-400 text-lg"})})]})})}),e.jsx("div",{className:"pt-20 px-4 pb-6",children:e.jsx("div",{className:"relative bg-gradient-to-br from-blue-500 via-blue-700 to-purple-600 rounded-3xl p-6 text-white overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-baseline space-x-2 mb-2",children:e.jsx("h2",{className:"text-3xl font-bold",children:r.length})}),e.jsx("p",{className:"text-blue-100",children:"Total Subscribers"})]}),e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:e.jsx("i",{className:"ri-user-heart-line text-white text-2xl"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"VIP"}),e.jsx("p",{className:"text-2xl font-bold",children:r.filter(s=>s.tier_level===3).length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"Pro"}),e.jsx("p",{className:"text-2xl font-bold",children:r.filter(s=>s.tier_level===2).length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-3",children:[e.jsx("p",{className:"text-blue-100 text-xs mb-1",children:"Basic"}),e.jsx("p",{className:"text-2xl font-bold",children:r.filter(s=>s.tier_level===1).length})]})]})]})})}),e.jsx("main",{className:"px-4 pb-20",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"})}):r.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx("i",{className:"ri-user-add-line text-gray-400 dark:text-gray-500 text-3xl"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:"No subscribers yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Share your profile to start growing your audience"})]}):e.jsx("div",{className:"space-y-3",children:r.map(s=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:s.subscriber?.full_name?.charAt(0)||"U"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.subscriber?.full_name||"Unknown User"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.subscriber?.email})]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${o(s.tier_level)}`,children:m(s.tier_level)})]})},s.id))})}),e.jsx("nav",{className:"fixed bottom-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-t border-gray-200/50 dark:border-gray-700/50",children:e.jsxs("div",{className:"grid grid-cols-4 h-16",children:[e.jsxs("button",{onClick:()=>t("/"),className:"flex flex-col items-center justify-center space-y-1 text-gray-400 dark:text-gray-500",children:[e.jsx("i",{className:"ri-compass-line text-lg"}),e.jsx("span",{className:"text-xs",children:"Discover"})]}),e.jsxs("button",{onClick:()=>t("/messages"),className:"flex flex-col items-center justify-center space-y-1 text-gray-400 dark:text-gray-500",children:[e.jsx("i",{className:"ri-message-3-line text-lg"}),e.jsx("span",{className:"text-xs",children:"Messages"})]}),e.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1 text-blue-600 dark:text-blue-400",children:[e.jsx("i",{className:"ri-user-heart-line text-lg"}),e.jsx("span",{className:"text-xs",children:"Subscribers"})]}),e.jsxs("button",{onClick:()=>t("/profile"),className:"flex flex-col items-center justify-center space-y-1 text-gray-400 dark:text-gray-500",children:[e.jsx("i",{className:"ri-user-line text-lg"}),e.jsx("span",{className:"text-xs",children:"Profile"})]})]})})]})}export{f as default};
//# sourceMappingURL=page-D133Hq3I.js.map
