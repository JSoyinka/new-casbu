import{u as w,a as k,r as t,j as e,c as m}from"./index-9-2ninXx.js";function C(){const l=w(),{user:u}=k(),[n,x]=t.useState(""),[c,h]=t.useState(""),[d,s]=t.useState(!1),[o,a]=t.useState(""),[b,g]=t.useState(!1),[p,f]=t.useState(""),y=async i=>{i.preventDefault(),a(""),s(!0);try{const{data:r,error:j}=await m.from("phone_number_claims").select("*").eq("access_code",n).maybeSingle();if(j)throw new Error("Error checking access code");if(!r){a("Invalid access code. Please check and try again."),s(!1);return}if(r.taken){a("This access code has already been used."),s(!1);return}if(r.current_phone_number!==c){a("Current phone number does not match our records."),s(!1);return}const{error:N}=await m.from("phone_number_claims").update({email:u?.email||"",taken:new Date().toISOString()}).eq("id",r.id);if(N)throw new Error("Error claiming phone number");f(r.new_phone_number),g(!0)}catch(r){a(r instanceof Error?r.message:"An error occurred")}finally{s(!1)}};return b?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-sm z-[100] border-b border-gray-200/50 dark:border-gray-700/50",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>l("/settings"),className:"w-8 h-8 flex items-center justify-center",children:e.jsx("i",{className:"ri-arrow-left-line text-gray-600 dark:text-gray-400 text-lg"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-cpu-line text-white text-sm"})}),e.jsx("img",{src:"https://readdy.ai/api/search-image?query=Modern%20technology%20logo%20design%20for%20DirectLine%20app%2C%20sleek%20futuristic%20typography%2C%20connected%20circuit%20lines%20integrated%20into%20letters%2C%20gradient%20blue%20to%20purple%20color%20scheme%2C%20tech%20startup%20aesthetic%2C%20minimalist%20design%2C%20transparent%20background%2C%20high%20contrast%2C%20professional%20branding%2C%20sans-serif%20font%20with%20geometric%20elements%2C%20digital%20communication%20theme&width=300&height=80&seq=directline-logo-main&orientation=landscape",alt:"DirectLine",className:"h-6"})]}),e.jsx("div",{className:"w-8"})]})})}),e.jsx("main",{className:"pt-20 pb-6 px-4 flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg border border-gray-100 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-check-line text-green-600 dark:text-green-400 text-4xl"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Phone Number Claimed!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your new phone number has been successfully claimed"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 rounded-xl p-6 mb-6",children:[e.jsx("p",{className:"text-sm text-blue-100 mb-2",children:"Your New Phone Number"}),e.jsx("p",{className:"text-3xl font-bold text-white tracking-wider",children:p})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Save this number for your records. You can now use it to receive calls and messages from your subscribers."}),e.jsx("button",{onClick:()=>l("/settings"),className:"w-full bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 text-white rounded-xl py-3 font-semibold",children:"Back to Settings"})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-sm z-[100] border-b border-gray-200/50 dark:border-gray-700/50",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>l("/settings"),className:"w-8 h-8 flex items-center justify-center",children:e.jsx("i",{className:"ri-arrow-left-line text-gray-600 dark:text-gray-400 text-lg"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-cpu-line text-white text-sm"})}),e.jsx("img",{src:"https://readdy.ai/api/search-image?query=Modern%20technology%20logo%20design%20for%20DirectLine%20app%2C%20sleek%20futuristic%20typography%2C%20connected%20circuit%20lines%20integrated%20into%20letters%2C%20gradient%20blue%20to%20purple%20color%20scheme%2C%20tech%20startup%20aesthetic%2C%20minimalist%20design%2C%20transparent%20background%2C%20high%20contrast%2C%20professional%20branding%2C%20sans-serif%20font%20with%20geometric%20elements%2C%20digital%20communication%20theme&width=300&height=80&seq=directline-logo-main&orientation=landscape",alt:"DirectLine",className:"h-6"})]}),e.jsx("div",{className:"w-8"})]})})}),e.jsx("main",{className:"pt-20 pb-6 px-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-phone-line text-white text-2xl"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Claim Your Phone Number"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter your access code and current phone number to claim your new dedicated number"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Access Code"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:e.jsx("i",{className:"ri-key-line text-gray-400"})}),e.jsx("input",{type:"text",value:n,onChange:i=>x(i.target.value),placeholder:"Enter your access code",className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:e.jsx("i",{className:"ri-smartphone-line text-gray-400"})}),e.jsx("input",{type:"tel",value:c,onChange:i=>h(i.target.value),placeholder:"Enter your current phone number",className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]})]}),o&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 dark:text-red-400 text-xl flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-500 via-blue-700 to-purple-600 text-white rounded-xl py-4 font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):"Claim Phone Number"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 dark:text-blue-400 text-xl flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"How it works"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Enter the access code you received and your current phone number. If they match our records and the code hasn't been used, you'll receive your new dedicated phone number."})]})]})})]})})]})}export{C as default};
//# sourceMappingURL=page-BSvcG_0J.js.map
